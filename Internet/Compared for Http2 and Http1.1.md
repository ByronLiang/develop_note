# Http2与Http1.x相关对比总结

## Http2核心特性

默认使用加密传输协议`(Https)`

### 多路复用 multiplexing

Http1.x 使用管道式(pipeline)同步处理请求；每个请求按照顺序接收, 并返回原顺序请求的响应; 

Http2 采用多路复用，同一连接下，并行处理多个请求; 新增使用流方式(stream)传输数据

单连接多资源的方式，减少服务端的链接压力,内存占用更少,连接吞吐量更大；由于减少TCP 慢启动时间，提高传输的速度

### 编码特性

二进制格式编码(二进制协议), 不是文本协议; 传输数据无法可读

多个并行传输信息被分割成帧：二进制分帧，能有效识别与区分多路请求数据, 处理次序交错的通讯

### 头部数据压缩

在Http1.x, 请求和响应都是由`(状态行、请求 / 响应头部、消息主体)`三部分组成。一般而言，消息主体都会经过 gzip 压缩，或者本身传输的就是压缩过后的二进制文件（例如图片、音频），但状态行和头部却没有经过任何压缩，直接以纯文本传输

Http2 只需通过字符串表明header值: 通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小

### 服务推送 server push

它允许服务端推送资源给浏览器，在浏览器明确地请求之前。一个服务器经常知道一个页面需要很多附加资源，在它响应浏览器第一个请求的时候，可以开始推送这些资源。这允许服务端去完全充分地利用一个可能空闲的网络，改善页面加载时间。 [应用不广, 静态资源一般有使用CDN, 提升不大]
