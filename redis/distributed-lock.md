# 分布式锁与Redis

## 可靠性分布锁特点

1. 互斥性。在任意时刻，只有一个客户端能持有锁。
2. 不会发生死锁。即使有一个客户端在持有锁的期间崩溃而没有主动解锁，也能保证后续其他客户端能加锁。
3. 具有容错性。只要大部分的Redis节点正常运行，客户端就可以加锁和解锁。
4. 加锁和解锁必须是同一个客户端，客户端自己不能把别人加的锁给解了。

## Redis能设计分布式锁

1. Redis单线程特性；多个客户端竞争的时候，只能有一个客户端能获取锁

## 劣势

1. 在Redis集群下，建立分布式锁，主从同步发生异常，并且从机替换主机时，分布式锁失效引发异常；[使用Redlock算法]
