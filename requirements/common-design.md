# 基本应用设计总结

## 以年月维度的分表

生成唯一标示的规则：随机码(取号器)拼接低六位的年月值，如`xxx202106`; 通过解析低六位的年月值，能定位所属数据库的分表，能快速进行数据查询

## 以年月维度的取号器

1. 利用Redis的Incr命令，原子递增取号值；每次从取号器获取号码，以当前时间戳转换年月值生成取号器的key: `Incr 202106`;
   
3. 当跨入全新月份，取号器的起始值将从1开始; 定时器会在每个月的第一天回收上一个月份的取号器的key
