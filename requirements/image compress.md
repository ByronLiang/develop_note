# 图片压缩

图片分辨率越大，图片编码，压缩等处理会越长；与图片文件大小无关

## GIF 图片原理

gif 在存储图片时, 引入了调色板(palette) 每一个索引对应了一个颜色, 存储的数据事实上是一个索引列表. 存储动态图片时, gif 的做法是将每一帧的所有信息都存储下来, 同样是以索引的形式, 然后再定义每一张图片持续播放的时间, 图片连续的切换就形成了动画.

## PNG 特点与压缩原理

PNG 内部的图片的数据流采用的是 inflate/deflate 算法进行压缩的, 数据块以 “zlib” 文件格式存储

png 使用的是无损压缩, 和 zip 的压缩方式基本一致, 原理为: 减小出现频率高的字符的编码长度, 增大出现频率低的字符的编码长度, 即用尽量小的空间去表达原有的信息

## JPEG 原理

JPEG 压缩是有损压缩，不可还原图片资源，通过丢失一定精度，(去除高频信息，保证压缩率，避免丢失图片信息)减小图片质量

## 保持纵横比裁剪

生成缩略图(Thumbnail), 一般需要维持图片的纵横比，避免图片因裁剪过度扭曲，比例失衡。当指定宽高后，通过计算原图纵横比与指定尺寸纵横比进行比较，从而根据比例，裁剪出符合纵横比的图片

