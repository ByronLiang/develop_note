# 内存对齐

## 目的

- 减少 CPU 访问内存的次数, 加大CPU 吞吐量: 64位CPU, 一次读取8位

- 合理分配成员的数据结构，避免因满足内存对齐，额外申请内存与填充补位值

- 方便内存变量访问实现原子性

## 查看内存

使用`unsafe.Sizeof(结构体)`: 查看结构体占用字节长度

使用`unsafe.Alignof`: 查看内存对齐的标准值

## 建议做法

- 若减少占用内存，struct 成员的布局顺序需要规划, 尽量满足内存对齐, 减小额外内存申请

- 空`struct{}` 成员尽量排在前部, 避免放置尾部; 若放置各个成员的尾部, 需要额外补充内存满足安全
