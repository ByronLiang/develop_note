# RPC请求的超时与重试次数

## 设置超时解决的问题

提高服务链路稳定性，具备容错能力

### 设置重试与超时关注的问题

1. 重复请求: 需确保接口幂等性，防止脏数据产生
2. 降低服务的负载能力，重试引发集群异常

## 相关设置思考

1. 多粒度的超时设置: 全局超时时间应该要略大于接口级别最长的耗时时间，每个接口的超时时间应该要略大于方法级别最长的耗时时间，每个方法的超时时间应该要略大于实际的方法执行时间

2. 评估可重试服务与不可重试服务; 读接口是天然幂等的，写接口则可以使用业务单据ID或者在调用方生成唯一ID传递给服务端，通过此ID进行防重避免引入脏数据

3. 评估服务业务场景: 内部应用服务，不设置重试，以人工重试；高QPS的对外服务，考虑使用超时的降级与熔断机制；设置合理重试次数
