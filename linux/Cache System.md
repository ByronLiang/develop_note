# 存储器/内存

## 数据被存入内存

系统的数据/文件读取等操作, 数据会先被存入内存里; 系统内存`Buffer` 与 `Cache` 参数数值会有所变化;

### 细节

buffers与cached都是内存操作，用来保存系统曾经打开过的文件以及文件属性信息，这样当操作系统需要读取某些文件时，会首先在buffers 与cached内存区查找，如果找到，直接读出传送给应用程序，如果没有找到需要数据，才从磁盘读取，这就是操作系统的缓存机制，通过缓存，大大提高了操 作系统的性能。但buffers与cached缓冲的内容却是不同的。

buffers是用来缓冲块设备做的，它只记录文件系统的元数据（metadata）以及 tracking in-flight pages，而cached是用来给文件做缓冲。更通俗一点说：buffers主要用来存放目录里面有什么内容，文件的属性以及权限等等。而cached直接用来记忆我们打开过的文件和程序。

## 手动释放内存

配置文件: `/proc/sys/vm/drop_caches`

操作: 

1. `sync` 将内存同步到磁盘里; 避免释放内存, 内存数据丢失
2. `echo 3 > /proc/sys/vm/drop_caches`

参数意义:

```
0 – 不释放
1 – 释放页缓存
2 – 释放dentries和inodes
3 – 释放所有缓存
```
